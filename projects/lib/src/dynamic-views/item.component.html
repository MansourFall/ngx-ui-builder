<ng-container *ngIf="config.type === 'container'">
  <div class="dragPlaceholder" dndPlaceholderRef>+</div>

  <ng-container *ngFor="let item of config.items; let i = index">
    <div #ref

      uib-configurable
      [uib-item]="item"
      [id]="item"
      [zone]="zone"
      [enableContainers]="enableContainers"
      [templates]="templates"

      [data]="data"
      [dataIndex]="dataIndex"

      [dndDraggable]="{item, index: i, container: id}"
      [dndEffectAllowed]="'move'"
      [dndType]="zone"
      [dndDropzone]="[zone]"
      [dndHorizontal]="ref.isHorizontal()"
      [dndDisableDropIf]="!isContainer(item) || dataIndex > 0"
      (dndDrop)="onDndDrop(item, $event)"
      (dndCanceled)="onDndCanceled(item, i)"
    ></div>
  </ng-container>
</ng-container>

<ng-container
  *ngIf="config.type !== 'container'"
  [ngTemplateOutlet]="templates[config.type || id]"
  [ngTemplateOutletContext]="{ $implicit: config, data: data, id: id }"
></ng-container>
