<ng-container *ngIf="config.type === '_container'">
  <div *ngIf="configurable" class="dragPlaceholder" dndPlaceholderRef>+</div>

  <ng-container *ngIf="!config.condition || data[config.condition.field] === config.condition.value">
    <ng-container *ngIf="!configurable">
      <div #ref *ngFor="let item of config.items; let i = index"

      [uib-item]="item"
      [id]="item"
      [templates]="templates"
      [configurable]="configurable"

      [data]="data"
      [dataIndex]="dataIndex"
      ></div>    
    </ng-container>
    <ng-container *ngIf="configurable">
      <div #ref *ngFor="let item of config.items; let i = index"

          uib-configurable
          [parentId]="config.id"
          [uib-disable-if]="dataIndex"

          [uib-item]="item"
          [id]="item"
          [zone]="zone"
          [templates]="templates"
          [configurable]="configurable"
    
          [data]="data"
          [dataIndex]="dataIndex"
    
          [dndDraggable]="{item, index: i, container: id}"
          [dndDisableIf]="dataIndex"
          [dndType]="zone"
          [dndDropzone]="[zone]"
          [dndHorizontal]="ref.isHorizontal()"
          [dndDisableDropIf]="!isContainer(item) || dataIndex"
          (dndDrop)="onDndDrop(item, $event)"
          (dndCanceled)="onDndCanceled(item, i)"
        ></div>
    </ng-container>
  </ng-container>
</ng-container>

<div
  *ngIf="config.type === '_raw-html' && (!config.condition || data[config.condition.field] === config.condition.value)"
  [innerHTML]="config.rawHtml">
</div>

<ng-container
  *ngIf="config.type[0] !== '_' && (!config.condition || data[config.condition.field] === config.condition.value)"
  [ngTemplateOutlet]="templates[config.type || id]?.template"
  [ngTemplateOutletContext]="{ $implicit: config, data: data, id: id }"
></ng-container>