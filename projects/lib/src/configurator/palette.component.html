<details open>
  <summary>Component palette (drag & drop)</summary>
  <div class="d-flex flex-wrap gap-1 p-2 ps-1">    
    <h6 class="mt-3 mb-0">New components</h6>
    <small class="text-muted">Create and configure a new component</small>
    <div>
      <ng-container *ngFor="let item of standardPalette"
        [ngTemplateOutlet]="paletteItem"
        [ngTemplateOutletContext]="{$implicit: item}">
      </ng-container>
    </div>

    <h6 class="mt-3 mb-0">Existing components</h6>
    <small class="text-muted">Insert a pre-configured conponent</small>
    <div>
      <ng-container *ngFor="let item of existingPalette"
        [ngTemplateOutlet]="paletteItem"
        [ngTemplateOutletContext]="{$implicit: item}">
      </ng-container>
    </div>
  </div>
</details>

<ng-template #paletteItem let-item>
  <div
    [dndDraggable]="item.type"
    [dndEffectAllowed]="'copy'"
    [dndType]="context?.zone"
    (dndStart)="onDndStart(item)"
    (dndEnd)="onDndEnd()"
    class="palette-item">
    <span [ngClass]="item.iconClass"></span>
    {{item.display || item.type}}
  </div>
</ng-template>

<!-- Modal -->
<uib-modal [title]="modal?.title" [show]="!!modal" (close)="onModalClose($event)">
  <div *ngTemplateOutlet="modal?.configurator; context: { $implicit: modal }"></div>
</uib-modal>
